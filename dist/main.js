(()=>{"use strict";function e(e){e.classList.add("popup_opened")}function t(e){e.classList.remove("popup_opened")}var n=document.querySelector(".image");function r(t,r){var o=document.querySelector(".elements-template").content.querySelector(".element").cloneNode(!0),c=o.querySelector(".element__image");return c.src=t,o.querySelector(".element__text").textContent=r,c.alt="Иллюстрация места.",o.querySelector(".element__like").addEventListener("click",(function(e){e.target.classList.toggle("element__like_active")})),o.querySelector(".element__delete").addEventListener("click",(function(){o.remove()})),c.addEventListener("click",(function(){e(n);var o=document.querySelector(".image__container");o.querySelector(".image__src").src=t,o.querySelector(".image__place").textContent=r})),o}function o(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove(n.inactiveButtonClass),t.removeAttribute("disabled")):(t.classList.add(n.inactiveButtonClass),t.setAttribute("disabled",!0))}var c,i=document.querySelector(".popup__container-place"),l=i.querySelector(".popup__item_type_link"),u=i.querySelector(".popup__item_type_location"),a=document.querySelector(".elements"),s=document.querySelector(".place"),p=document.querySelector(".profile"),d=p.querySelector(".profile__title"),_=p.querySelector(".profile__subtitle"),m=document.querySelector(".edit-profile__container"),v=m.querySelector(".popup__item_type_name"),y=m.querySelector(".popup__item_type_job"),f=document.querySelector(".edit-profile"),S=p.querySelector(".profile__edit-button"),q=f.querySelector(".popup__close"),k=p.querySelector(".profile__add-button"),L=s.querySelector(".place__close");S.addEventListener("click",(function(){e(f),v.value=d.textContent,y.value=_.textContent,document.querySelector(".popup__button").classList.remove("popup__button_inactive"),document.querySelector(".popup__button").removeAttribute("disabled")})),k.addEventListener("click",(function(){e(s),i.reset(),document.querySelector(".place__button").classList.add("popup__button_inactive"),document.querySelector(".place__button").setAttribute("disabled",!0)})),q.addEventListener("click",(function(){t(f)})),f.addEventListener("click",(function(e){e.target.classList.contains("edit-profile")&&t(f)})),L.addEventListener("click",(function(){t(s)})),s.addEventListener("click",(function(e){e.target.classList.contains("place")&&t(s)})),m.addEventListener("submit",(function(e){e.preventDefault(),d.textContent="".concat(v.value),_.textContent="".concat(y.value),t(f)})),n.querySelector(".image__close").addEventListener("click",(function(){t(n)})),n.addEventListener("click",(function(e){e.target.classList.contains("popup__image")||t(n)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(t(f),t(n),t(s))})),i.addEventListener("submit",(function(e){e.preventDefault();var n=r(l.value,u.value);a.prepend(n),t(s)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Мариуполь",link:"https://club.foto.ru/gallery/images/photo/2018/10/22/2567941.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=r(e.link,e.name);a.append(t)})),c={formSelector:".popup__container",inputSelector:".popup__item",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},Array.from(document.querySelectorAll(c.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);n.forEach((function(c){c.addEventListener("input",(function(){!function(e,t,n){t.validity.valid?function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n.inputErrorClass),r.classList.remove(n.errorClass),r.textContent=""}(e,t,n):function(e,t,n,r){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(r.inputErrorClass),o.textContent=n,o.classList.add(r.errorClass)}(e,t,t.validationMessage,n)}(e,c,t),o(n,r,t)})),o(n,r,t)}))}(e,c)}))})();